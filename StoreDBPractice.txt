CREATE TABLE [cathegory] (
  [id] integer PRIMARY KEY,
  [name] varchar(50),
  [statusId] integer
)
GO

CREATE TABLE [cathegoryStatus] (
  [id] integer PRIMARY KEY,
  [name] nvarchar(255)
)
GO

CREATE TABLE [products] (
  [id] integer PRIMARY KEY,
  [serie] varchar(12),
  [name] varchar(50),
  [price] integer,
  [cathegoryId] integer,
  [description] text,
  [statusId] integer
)
GO

CREATE TABLE [stock] (
  [id] integer PRIMARY KEY,
  [productId] integer,
  [quantity] integer
)
GO

CREATE TABLE [productStatus] (
  [id] integer PRIMARY KEY,
  [name] nvarchar(255)
)
GO

CREATE TABLE [preorders] (
  [id] integer PRIMARY KEY,
  [customerName] varchar(50),
  [customerId] varchar(9),
  [customerEmail] varchar(50),
  [customerAddress] varchar(50),
  [customerPhone] varchar(8)
)
GO

CREATE TABLE [order] (
  [id] integer PRIMARY KEY,
  [preorderId] integer,
  [productId] integer,
  [quantity] integer,
  [price] integer,
  [time] timestamp
)
GO

ALTER TABLE [cathegory] ADD FOREIGN KEY ([statusId]) REFERENCES [cathegoryStatus] ([id])
GO

ALTER TABLE [products] ADD FOREIGN KEY ([cathegoryId]) REFERENCES [cathegory] ([id])
GO

ALTER TABLE [products] ADD FOREIGN KEY ([statusId]) REFERENCES [productStatus] ([id])
GO

ALTER TABLE [stock] ADD FOREIGN KEY ([productId]) REFERENCES [products] ([id])
GO

ALTER TABLE [order] ADD FOREIGN KEY ([preorderId]) REFERENCES [preorders] ([id])
GO

ALTER TABLE [order] ADD FOREIGN KEY ([productId]) REFERENCES [products] ([id])
GO
